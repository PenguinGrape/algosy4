простчо ищем длину наибольшего палиндрома (для каждого символа проверяем вширь сосеедние, пока не найдем различие)
потом делаем то же самое, но с небольшими костылями, чтобы четная строка-палиндром все не ломала (например "аааа")